<!--index.wxml-->
<view class="container">

  <!-- swiper 导航切换部分 -->
  <swiper indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" class="banners" interval="{{interval}}" duration="{{duration}}">
    <!-- for 循环从 api 获取到的今日的 api 内容，一个 item 就是一个滑块  -->
    <block wx:for="{{banner}}">
      <swiper-item class="banner">
        <!-- 导航栏的图片展示部分，横向充满，但是纵向可能会丢失元素 -->
        <image src="{{item.image}}" data-id="{{item.id}}" bindtap="bindViewTap" class="banner-image" mode='aspectFill'/>
        <text class="banner-title">{{item.title}}</text>
      </swiper-item>
    </block>
  </swiper>

  <!-- 知乎日报的 daily 内容部分 -->
  <view class="news-item-container">
    <block wx:for="{{list}}" wx:for-index="id">
      <text wx:if="{{item.header}}" class="sub-title">{{item.header}}</text>
      <navigator wx:else url="../detail/detail?id={{item.id}}">
        <view class="news-item">
          <view class="news-item-left">
            <text class="news-item-title">{{item.title}}</text>
          </view>
          <view class="news-item-right">
            <image src="{{item.images[0]}}" class="news-image" />
          </view>
        </view>
      </navigator>
    </block>
    <!-- 加载更多按钮 -->
    <button type="primary" class="load-btn" loading="{{loading}}" plain="{{plain}}" bindtap="loadMore"> 更多 </button>
  </view>

</view>